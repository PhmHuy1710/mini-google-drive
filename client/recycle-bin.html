<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Th√πng r√°c - Mini Google Drive</title>
  <meta name="description" content="Recycle Bin - Manage deleted files and folders">
  
  <!-- Icons & Fonts -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">
  <link rel="icon" href="https://ssl.gstatic.com/images/branding/product/1x/drive_2020q4_48dp.png">
  
  <!-- Styles -->
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <!-- Header -->
  <div class="drive-header">
    <div class="header-left">
      <img src="https://ssl.gstatic.com/images/branding/product/1x/drive_2020q4_48dp.png"
           alt="Drive"
           style="width:32px;height:32px;margin-right:13px;">
      <span class="header-title">
        <a href="index.html" style="color: inherit; text-decoration: none;">Mini Google Drive</a>
        <span style="color: #666; margin: 0 8px;">/</span>
        <span style="color: #d93025;">üóëÔ∏è Th√πng r√°c</span>
      </span>
    </div>

    <div class="header-right">
      <button class="theme-toggle" id="themeToggle" title="Chuy·ªÉn ƒë·ªïi ch·∫ø ƒë·ªô s√°ng/t·ªëi">
        <span class="mdi mdi-weather-night" id="themeIcon"></span>
      </button>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Toolbar -->
    <div class="toolbar">
      <button class="btn btn-back" id="backToMainBtn" title="Quay l·∫°i trang ch√≠nh">
        <span class="mdi mdi-arrow-left"></span> Quay l·∫°i
      </button>
      
      <button class="btn btn-danger" id="emptyTrashBtn" title="X√≥a vƒ©nh vi·ªÖn t·∫•t c·∫£">
        <span class="mdi mdi-delete-forever"></span> X√≥a t·∫•t c·∫£
      </button>
      
      <button class="btn btn-refresh" id="refreshTrashBtn" title="L√†m m·ªõi">
        <span class="mdi mdi-refresh"></span> L√†m m·ªõi
      </button>

      <!-- Progress bar for operations -->
      <div class="progress-wrap" id="progressWrap" style="display: none;">
        <div class="progress-bar" id="progressBar"></div>
        <span class="progress-text" id="progressText"></span>
      </div>
    </div>

    <!-- Info Banner -->
    <div class="recycle-info-banner">
      <span class="mdi mdi-information-outline"></span>
      <span>C√°c t·ªáp v√† th∆∞ m·ª•c ƒë√£ x√≥a s·∫Ω ƒë∆∞·ª£c l∆∞u t·∫°i ƒë√¢y. B·∫°n c√≥ th·ªÉ kh√¥i ph·ª•c ho·∫∑c x√≥a vƒ©nh vi·ªÖn.</span>
    </div>

    <!-- Trash File List Table -->
    <table class="file-list" id="trashTable">
      <thead>
        <tr>
          <th class="col-name">T√™n</th>
          <th class="col-time">Ng√†y x√≥a</th>
          <th class="col-size">Dung l∆∞·ª£ng</th>
          <th class="col-action">T√°c v·ª•</th>
        </tr>
      </thead>
      <tbody id="trashListBody"></tbody>
    </table>

    <!-- Empty State -->
    <div class="empty-note" id="emptyTrashNote" style="display: none;">
      <div class="empty-icon">üóëÔ∏è</div>
      <h3>Th√πng r√°c tr·ªëng</h3>
      <p>Kh√¥ng c√≥ t·ªáp hay th∆∞ m·ª•c n√†o trong th√πng r√°c</p>
      <button class="btn btn-primary" onclick="window.location.href='index.html'">
        <span class="mdi mdi-arrow-left"></span> Quay l·∫°i trang ch√≠nh
      </button>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toast-container"></div>

  <!-- Confirmation Modal -->
  <div class="modal-overlay" id="confirmModal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalTitle">X√°c nh·∫≠n</h3>
        <button class="modal-close" id="modalClose">
          <span class="mdi mdi-close"></span>
        </button>
      </div>
      <div class="modal-body">
        <p id="modalMessage">B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën th·ª±c hi·ªán h√†nh ƒë·ªông n√†y?</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="modalCancel">H·ªßy</button>
        <button class="btn btn-danger" id="modalConfirm">X√°c nh·∫≠n</button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/uiUtils.js"></script>
  <script src="js/themeManager.js"></script>
  <script src="js/recycleBinManager.js"></script>
  <script>
    // Initialize Recycle Bin when page loads
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof recycleBinManager !== 'undefined') {
        recycleBinManager.init();
      } else {
        console.error('recycleBinManager not loaded');
      }
    });
  </script>
</body>
</html>
